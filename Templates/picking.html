{{PICKING_LIST}}

<button id='btnPack' class='btn-pack' onclick="finishPicking()">✅ HOÀN THÀNH</button>

<script>
    function validatePicking() {
        const unchecked = document.querySelectorAll('.item-chk:not(:checked)');
        if(unchecked.length > 0) {
            unchecked.forEach(el => el.closest('.card').classList.add('highlight-box'));
            return confirm('Còn ' + unchecked.length + ' món CHƯA TICK. Bạn có chắc chắn muốn hoàn thành không?');
        }
        return true;
    }

    function finishPicking() {
        if(validatePicking()) {
            if(IS_OFFLINE) {
                document.getElementById('picking-view').style.display='none';
                document.getElementById('home-view').style.display='block';
                window.scrollTo(0,0);
            } else {
                window.location.href='/finish-picking';
            }
        }
    }
</script>